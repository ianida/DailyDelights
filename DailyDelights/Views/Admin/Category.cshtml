@{
    Layout="~/Views/Admin/_AdminLayout.cshtml";
}
@model IEnumerable<DailyDelights.Models.Category>;



<div class="container">
    <div class="row">
        <div class="col-12">
            <h1 class="text-center">Categories</h1>
            
        </div>
        <div class="col-10">
            <a class="btn btn-success my-2" asp-controller="Admin" asp-action="AddCategory">Add new category</a>
        </div>

    </div>
    <div class="row">
        <div class="col-14">

            @if(Model.Count()==0){
    <h1>No Categories avaliable</h1>
}else{
    <table class="table table-striped table-bordered">
                <thead>
                    <tr>
                        <td>S.N</td>
                        <td>Category Name</td>
                        <td colspan="3">Action</td>
                    </tr>
                </thead>
                <tbody>
    @foreach(var category in Model){
                <tr>
                        <td>@category.Id</td>
                        <td>@category.CategoryName</td>
                        <td><a class="btn btn-primary" asp-controller="Admin" asp-action="EditCategory" asp-route-id="@category.Id">Edit</a></td>
                         <td>
     <a class="btn btn-danger" href="@Url.Action("DeleteCategory", "Admin", new { id = category.Id })" onclick="return handleDelete(event)">
        Delete
    </a>
</td>
                    </tr>
       
    }
     </tbody>
            </table>
}

            
                    
               
        </div>
    </div>
</div>


<script>
    function handleDelete(e) {
        // Show confirmation dialog
        if (!confirm("Are you sure you want to delete this product?")) {
            // Prevent default link behavior (navigation) if user cancels
            e.preventDefault();
        }
        // If the user clicks "OK", the default behavior (navigation) will happen, and the product will be deleted
    }
</script>

